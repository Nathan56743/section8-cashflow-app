<!DOCTYPE html>
<html>
<head>
    <title>Profitable Section 8 Properties</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body class="p-4">
    <div class="container">
        <h2 class="mb-4">Profitable Section 8 Properties</h2>

        <form method="get" class="form-inline mb-4">
            <label class="mr-2">Min Cash Flow: $</label>
            <input type="number" name="min_cash_flow" class="form-control mr-3" value="{{ request.args.get('min_cash_flow', '') }}">
            
            <label class="mr-2">Seller Financing:</label>
            <select name="seller_financing" class="form-control mr-3">
                <option value="">Any</option>
                <option value="true" {% if request.args.get('seller_financing') == 'true' %}selected{% endif %}>Yes</option>
                <option value="false" {% if request.args.get('seller_financing') == 'false' %}selected{% endif %}>No</option>
            </select>

            <button type="submit" class="btn btn-primary">Filter</button>
            <a href="/download" class="btn btn-secondary ml-2">Download CSV</a>
        </form>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Address</th>
                    <th>Price</th>
                    <th>Monthly Rent</th>
                    <th>Expenses</th>
                    <th>ROI (%)</th>
                </tr>
            </thead>
            <tbody>
                {% for prop in properties %}
                <tr>
                    <td>{{ prop.address }}</td>
                    <td>${{ "{:,.0f}".format(prop.price) }}</td>
                    <td>${{ "{:,.0f}".format(prop.monthly_rent) }}</td>
                    <td>${{ "{:,.0f}".format(prop.expenses) }}</td>
                    <td>{{ prop.roi }}%</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
